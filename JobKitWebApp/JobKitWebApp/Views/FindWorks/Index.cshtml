@using JobKitWebApp.Models

@{
    ViewBag.Title = "Index";
}

<div class="hero-wrap js-fullheight" style="background-image: url('/Content/background.jpeg');" data-stellar-background-ratio="0.5">
    <div class="overlay"></div>
    <div class="container">
        <div class="row no-gutters slider-text js-fullheight align-items-center justify-content-start" data-scrollax-parent="true">
            <div class="col-xl-10 ftco-animate mb-5 pb-5" data-scrollax=" properties: { translateY: '70%' }">
                <h1 class="mb-5" data-scrollax="properties: { translateY: '30%', opacity: 1.6 }">Your Dream <br><span>Job is Waiting</span></h1>
                <div class="ftco-search">
                    <div class="row">
                        <div class="col-md-12 nav-link-wrap">
                            <div class="nav nav-pills text-center" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                                <a class="nav-link active mr-md-1" id="v-pills-1-tab" data-toggle="pill" href="#v-pills-1" role="tab" aria-controls="v-pills-1" aria-selected="true">Find a Job</a>
                            </div>
                        </div>
                        <div class="col-md-12 tab-wrap">

                            <div class="tab-content p-4" id="v-pills-tabContent">
                                <div class="tab-pane fade show active" id="v-pills-1" role="tabpanel" aria-labelledby="v-pills-nextgen-tab">
                                    <form action="#" class="search-job">
                                        <div class="row">
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <div class="form-field">
                                                        <div class="select-wrap">
                                                            <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                                                            <select name="FreelancerCategoryId" id="FreelancerCategoryId" class="form-control" required>
                                                                <option value="-1">Freelancer Category</option>
                                                                @foreach (var item in ViewBag.FreelancerCategoryId)
                                                                {
                                                                    <option value="@item.FreelancerCategoryId">@item.FreelancerCategoryName</option>
                                                                }
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <div class="form-field">
                                                        <div class="select-wrap">
                                                            <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                                                            <select name="JobTypeId" id="JobTypeId" class="form-control" required>
                                                                <option value="-1">Job Type</option>
                                                                @foreach (var item in ViewBag.JobTypeId)
                                                                {
                                                                    <option value="@item.JobTypeId">@item.JobTypeName</option>
                                                                }
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <div class="form-field">
                                                        <div class="select-wrap">
                                                            <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                                                            <select name="CityId" id="CityId" class="form-control" required>
                                                                <option value="-1">Location</option>
                                                                @foreach (var item in ViewBag.CityId)
                                                                {
                                                                    <option value="@item.CityId">@item.CityName</option>
                                                                }
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <div class="form-field">
                                                        <button type="button" id="job_search_button" class="form-control btn btn-primary">Search</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts
{
    <script>
        $(document).ready(function () {
            $("#job_search_button").on("click", function (e) {
                e.preventDefault();
                var freelancerCategoryId = $("#FreelancerCategoryId").val();
                var jobTypeId = $("#JobTypeId").val();
                var cityId = $("#CityId").val();
                if (freelancerCategoryId == "" || jobTypeId == "" || cityId == "")
                {
                    alert("Please Select");
                    return;
                }
                location.href = "/FindWorks/Jobs?FreelancerCategoryId=" + freelancerCategoryId + "&JobTypeId=" + jobTypeId + "&CityId=" + cityId;

                //$.ajax({
                //    type: "POST",
                //    url: "/Home/Places/",
                //    data:
                //    {
                //        destinationId: $("#destination_select").val(),
                //        tripCategoryId: $("#trip_category_select").val()
                //    },
                //    error: function (result) {
                //        alert('error');
                //    }
                //});
            });
        });
    </script>

}
